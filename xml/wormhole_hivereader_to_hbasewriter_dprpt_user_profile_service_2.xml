<?xml version="1.0" encoding="UTF-8"?>

<job id="hivereader_to_hbasewriter_job">
  <reader>
    <plugin>hivereader</plugin>
    <path>jdbc:hive://10.1.1.161:10000/default</path>
    <username></username>
    <password></password>
    <sql>select user_id,add_date,add_date_percentage,city_cnt,shop_cnt,closed_shop_cnt,review_cnt,review_help_user_cnt,tg_amt,saved_amt,top_food_avg_price,fav_food_cat1_name,fav_life_cat1_name,movie_one_cnt,movie_two_cnt,movie_fav_row,waimai_fav_day,waimai_fav_shop,food_avg_price,top_food_avg_price_shop_name,top_food_avg_price_active_date,city_name,food_avg_price_city_percentage from bi.dpmid_dp_user_info </sql>
    <mode>READ_FROM_HDFS</mode>
    <dataDir>hdfs://10.2.6.102/tmp/</dataDir>
    <reduceNumber>-1</reduceNumber>
    <concurrency>1</concurrency>
  </reader>
  <writer>
    <plugin>hbasewriter</plugin>
    <htable>bi.dprpt_user_profile_service</htable>
    <autoFlush>false</autoFlush>
    <writebufferSize>1048576</writebufferSize>
    <writeAheadLog>true</writeAheadLog>
    <rowKeyIndex>0</rowKeyIndex>
    <columnsName>dim:add_date,dim:add_date_percentage,dim:city_cnt,dim:shop_cnt,dim:closed_shop_cnt,dim:review_cnt,dim:review_help_user_cnt,dim:tg_amt,dim:saved_amt,dim:top_food_avg_price,dim:fav_food_cat1_name,dim:fav_life_cat1_name,dim:movie_one_cnt,dim:movie_two_cnt,dim:movie_fav_row,dim:waimai_fav_day,dim:waimai_fav_shop,dim:food_avg_price,dim:top_food_avg_price_shop_name,dim:top_food_avg_price_active_date,dim:city_name,dim:food_avg_price_city_percentage</columnsName>
    <deleteMode>0</deleteMode>
    <rollbackMode>0</rollbackMode>
    <concurrency>1</concurrency>
    <write_sleep>ture</write_sleep>
    <wait_time>100</wait_time>
    <num_to_wait>10000</num_to_wait>
    <secondsDecTimeStamp>21600</secondsDecTimeStamp>
    <isDeleteData>false</isDeleteData>
    <ignoreNullColumn>true</ignoreNullColumn>
    <isMajor_Compact>true</isMajor_Compact>
    <doPostDeleteDataFromHive>false</doPostDeleteDataFromHive>
    <hiveConnectionUrl>jdbc:hive://10.1.1.161:10000/default</hiveConnectionUrl>
    <selectRowkeysQuery></selectRowkeysQuery>
  </writer>
</job>
