<?xml version="1.0" encoding="UTF-8"?>

<job id="hivereader_to_hbasewriter_job">
  <reader>
    <plugin>hivereader</plugin>
    <path>jdbc:hive://10.1.1.161:10000/default</path>
    <username></username>
    <password></password>
    <sql>select row_key,employeenum_perf,salename_perf,department_name_perf,sale_city_perf,sale_business_area_perf,contract_num_perf,contract_amount_perf,contract_standard_num_perf,contract_shopgrp_num_perf,contract_new_shopgrp_num_perf,receive_amount_perf,expect_receive_perf,end_mon_shopgrp_num_perf,end_nextmon_shopgrp_num_perf,employeenumber_cont,salename_cont,department_name_cont,sale_city_cont,sale_business_area_cont,contractno_cont,amount_cont,contract_addtime_cont,contract_update_cont,status_cont,shopgrpid_cont,shopgrpname_cont,is_new_customer_cont,employeenumber_rec,salename_rec,department_name_rec,sale_city_rec,sale_business_area_rec,contractno_rec,shopgrpid_rec,shopgrpname_rec,receivedate_rec,amount_rec,employeenumber_end,salename_end,department_name_end,sale_city_end,sale_business_area_end,contractno_end,shopgrpid_end,shopgrpname_end,producttype_end,enddate_end,employeenumber_exp,salename_exp,department_name_exp,sale_city_exp,sale_business_area_exp,contractno_exp,shopgrpid_exp,shopgrpname_exp,contract_addtime_exp,expect_receive_date_exp,expect_receive_amount_exp,cpm_new_account_num_perf,cal_date from bi.dprpt_employee_profile_service</sql>
    <mode>READ_FROM_LOCAL</mode>
    <dataDir>hdfs://10.2.6.102/tmp/</dataDir>
    <reduceNumber>-1</reduceNumber>
    <concurrency>1</concurrency>
  </reader>
  <writer>
    <plugin>hbasewriter</plugin>
    <htable>bi.dprpt_employee_profile_service</htable>
    <autoFlush>false</autoFlush>
    <writebufferSize>1048576</writebufferSize>
    <writeAheadLog>true</writeAheadLog>
    <rowKeyIndex>0</rowKeyIndex>
    <columnsName>dim:employeenum_perf,dim:salename_perf,dim:department_name_perf,dim:sale_city_perf,dim:sale_business_area_perf,dim:contract_num_perf,dim:contract_amount_perf,dim:contract_standard_num_perf,dim:contract_shopgrp_num_perf,dim:contract_new_shopgrp_num_perf,dim:receive_amount_perf,dim:expect_receive_perf,dim:end_mon_shopgrp_num_perf,dim:end_nextmon_shopgrp_num_perf,dim:employeenumber_cont,dim:salename_cont,dim:department_name_cont,dim:sale_city_cont,dim:sale_business_area_cont,dim:contractno_cont,dim:amount_cont,dim:contract_addtime_cont,dim:contract_update_cont,dim:status_cont,dim:shopgrpid_cont,dim:shopgrpname_cont,dim:is_new_customer_cont,dim:employeenumber_rec,dim:salename_rec,dim:department_name_rec,dim:sale_city_rec,dim:sale_business_area_rec,dim:contractno_rec,dim:shopgrpid_rec,dim:shopgrpname_rec,dim:receivedate_rec,dim:amount_rec,dim:employeenumber_end,dim:salename_end,dim:department_name_end,dim:sale_city_end,dim:sale_business_area_end,dim:contractno_end,dim:shopgrpid_end,dim:shopgrpname_end,dim:producttype_end,dim:enddate_end,dim:employeenumber_exp,dim:salename_exp,dim:department_name_exp,dim:sale_city_exp,dim:sale_business_area_exp,dim:contractno_exp,dim:shopgrpid_exp,dim:shopgrpname_exp,dim:contract_addtime_exp,dim:expect_receive_date_exp,dim:expect_receive_amount_exp,dim:cpm_new_account_num_perf,dim:cal_date</columnsName>
    <deleteMode>0</deleteMode>
    <rollbackMode>0</rollbackMode>
    <concurrency>1</concurrency>
    <write_sleep>true</write_sleep>
    <wait_time>1000</wait_time>
    <num_to_wait>5000</num_to_wait>
    <secondsDecTimeStamp>21600</secondsDecTimeStamp>
    <isDeleteData>true</isDeleteData>
    <isMajor_Compact>true</isMajor_Compact>
    <hiveConnectionUrl>jdbc:hive://10.1.1.161:10000/default</hiveConnectionUrl>
    <clusterConfigName>hbase-site-nanhui.xml</clusterConfigName>
  </writer>
</job>
